\documentclass[a4paper, 12pt]{article}
\usepackage[english]{babel}
\usepackage[pdftex]{graphicx}
\usepackage[T1]{fontenc}
\usepackage{wrapfig}
\usepackage{graphicx} 
\usepackage{algorithm}
\usepackage{hyperref}
\usepackage{amssymb}

\newcommand{\HRule}{\rule{\linewidth}{0.3mm}}

\begin{document}
\begin{center}
% Title
\HRule \\[0.3cm]
{ \LARGE \bfseries Lab visit report \\[0.3cm]}
{ \LARGE \bfseries 09/07/25 \\[0.1cm]} % Commenter si pas besoin
\HRule \\[1.5cm]

% Author and supervisor
\begin{minipage}[t]{0.45\textwidth}
\begin{flushleft} \large
\textsc{supervisors :}\\
Bruno \textsc{Quoitin}\\
Aqeel \textsc{Ahmed}\\
\end{flushleft}

\end{minipage}
\begin{minipage}[t]{0.45\textwidth}
\begin{flushright} \large
\textsc{author :}\\
Maxime \textsc{Bartha}\\
\end{flushright}
\end{minipage}\\[2ex]
\end{center}


\section{Initial objectives}
\begin{itemize}
  \item test time sync with time.time() (always absoulute time) on both sides
  \item learn about the lora frame detection 
  \item look at the physical frame structure and how we could improve it 
\end{itemize}

\section{Summary}
After some discussion around the reliability of only a time based signal synchronisation, we decided to add a layer on top of it (or simply only use a detection layer).
The synchronisation method isn't precise enough due to some time drift adding up such as : 
\begin{itemize}
  \item error of the transmitter and receiver waking up
  \item time to send the SendFlag through serial port
  \item time for the arduino to notice the SendFlag and send the frame
\end{itemize}
Even using a simple approach only using TCP socket once doesn't cut the synchronisation error quite enough 



\section{Problems encountered} 
The maxime1 implementation of the hard coded sample rate

\section{Solutions found}
Putting the sample rate as a parameter

\section{Conclusion}
We will focus on implementing a LoRa frame detector outputting an interval of sample index corresponding to the preamble of the detected frame.
So the Goal would be to have a direct connection between the sdr source to the file saver. This file saver will only capture the intervals told by the LoRa detector. So the LoRa detector only outputs intervals and not signals to be resampled back (which was a concern of last year's implementation)

concerns : will it be possible to map back the raw samples indices from the lora detector if we first resample its input 

PS of concern 1 : Maxime1 did a mistake by resampling down and up again, the paper stated the sample rate should be greater or equal then two times the BW. (which is the case because we are using 125kHz as BW and 1e6 sample rate). But he hard coded the sample rate to be exactly 2 times the bw. Which means I can simply put the sample rate as a parameter for the lora detector.


the devices crashing out isn't a big part of the current time synchronisation implementation, so I'll have to take a look at that later on

\end{document}
